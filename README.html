<div class="figure">
<img src="resources/IMB_logo.png" alt="IMB-logo" />
<p class="caption">IMB-logo</p>
</div>
<h1 id="gloe-pipe">GLOE-Pipe</h1>
<p>The <strong>G</strong>enomewide <strong>L</strong>igation of 3'-<strong>O</strong> <strong>E</strong>nds (GLOE-Seq) is a sensitive method to capture DNA strand breaks genomewide at nucleotide resolution.</p>
<p>To facilitate the analysis of raw GLOE-Seq data, we have developed an easy-to-use, modular and versatile computational pipeline, called <strong>GLOE-Pipe</strong>.</p>
<p>A flowchart of GLOE-Pipe can be found <a href="https://www.draw.io/?lightbox=1&amp;highlight=0000ff&amp;edit=_blank&amp;layers=1&amp;nav=1&amp;title=GLOEseq_pipeline.html#R7V3rd5u4Ev9rfG73g314%2BvExTuKmvb1pN0lPd%2FdLDwbZZoMRBRwn%2BeuvRgjMQ2Bs83KTds8WhMCSZjTzm9Fo1JMv188fXc1Z%2FQ8byOpJgvHck696kiSqQ4X8AyUvQclEloOCpWsarNKu4N58RaxQYKUb00BeoqKPseWbTrJQx7aNdD9Rprku3iarLbCV%2FFVHW6JMwb2uWdnSH6bhr1ipOJzsHtwgc7liPz2WRsGDuaY%2FLl28sdnv2dhGwZO1Fn6G9dFbaQbexork65586WLsB1fr50tkwbCGIxa8N8t5GjXZRbZf5oUb4fNidTv2rafV3fz25n728%2FWmHxLgSbM2bCx60tAiH5wa5hOMrmUubfpg%2BGsDTZ26dBiiW3K1ZP%2FS1%2BZuuoQ0iX4rLKWD4b%2BEY7%2Fy1xa5EskzS5sjaxoN6SW2sEsryTP6h1TxfBc%2FRkQigzhdYNtnHCUOod2at0IG%2ByL9TnS3MC0r9tHrIfyNPho%2BoTSUp0tXM0wytqliHa9NndwKUMXSPI9dR%2BQVok7GacPI9YRcHz3HihitPiK8Rr77Qqqwp5MJIw2bUiEbbWP8OWRlqxhrygor1NicWEaf3jEHuWD8weeVJ%2F32z%2Fsfm8%2Bbq9d%2FHj49zP72nv7pi%2B%2FM0lVmkQUxySxillsUYZLllqFQAbe8%2FvCvHoS%2F%2Fvk8u7t216Lx8PHlU1%2FO0A4ZROayW%2Bz6K7zEtmZd70pjBIBx2dX5grHDqPIv8v0XRkFt42NSFOMJ9Gz6f8HrA5Xd%2FR17cvXMvkxvXkJaZJgklyAe3rg6KpgirNPQ00KyucjSfPMpqX14JGCvfsMmacqO3BMpSe5xioq%2B5i6Rz95KETJqxvG0VcVzIS6hoPsSewlu%2F44%2F271G73bvGReAK8itDvMWZjEUzkwrbE4NfBOQrahe5Qx2kkaQc%2FUByNkEg4QaAB70PUriC1JBVJxnjnq4lHoX07Vm2jCepoMsk4hTUjgt1hzBryaLA810bEMS3UmWeY5mlynbpAs0kMEuWiSas%2FJ9wLoXQBBptjR9ot4GRH2Qm4%2FfCLGwZ9oYbr58ve5%2FI0NCrucWngPdNM9HZDhm4Uh5rJ6HfsG3LIzI1SB8OiD6Ej%2B9ZDubXzEcX40z5pnukTLeMOQX8wY3DQMqp%2BWxX%2BnT2Wf62py8HWNOYvughWmbvomBaT%2FM4ckfB3Nrp%2FttYc3wqHDxHGKFgXghFpBDmVFYY2NjAeudf%2F%2BQ5xEJbmog%2FzRi2YWd60O3zQXRBVTKa0SIwrw7osMV8OAz0jc%2BjHeMB3Nako%2Bhq4CeYhKLjLPIUx5xkKco1WWnKBytlBoCgr8duCQC1iFIHTofgI9QnY%2FDgsjqV7jDVagWS4%2BhmBkyiWPZhWUngse%2BpCYINkp%2BAC8WHjoVNfLtR7VN1Bhe%2F51AkPtQYwIz7iBkDmqsEhKG02o%2FJmwIEn73kPt1%2Fi%2B434ioBOOb5wLIirQ5fgaJZtrLQKbNsWsgt0%2BKyQ0dopDxqcQDg1SNnsT9a%2FCYGOJIgb9RDUczjOjbUpGC4MGPhrFYQExv4D9znCLJh0WYi9eT%2Fa6UoDRELllC5VMhrZXQOt56QSc8QpqkUzLEPihkakXEitWS8inmz7HxkinMdNQ3wpJP3wqHY1cx%2B2pYYsa%2FJcwRqP%2BFaSGbqPvYp8xSn4fCbHMLOxD%2FnYo64Wlrh9J877fr6tXtt%2B8PFXbKdjZ%2BLnEa71jFFGOda51oIHadY3vBXmaNF%2FAi1qMqGg6FPOFAZSwVcHHwWwxLpJi%2BZDgmBlEAxZm6Zl0w37YPuGMaerottICfwaTWwqLuogX1EE2rBdlK0r0bOf4TiJEDGY8B2eQ2puoPwHfRQtc7viuD70r7%2FDrl8hPzfX7vAHA%2FAKTeEvIpe2Eusw1NPX2HgEdAwIwqon456O4Wu4%2Fg4gF%2FjmZrSyAT%2BLLoTPWyg3gPZjBztLBVwLCVFtbBOxTrmgkazsbwho0QkWiDIkV3NEwo%2BeLByv69YaejjI6DhmiNeB9oGNblmJPG7wChPEAI3ZadAQj7HEAOV6WsSfNNO9AagrNT%2BUF5n84MeDaMPSMM7vfZbLmgesMOPO15YSRhwbfdcgzPQT8vJRycdNkqU%2BuorgbTHh6O%2BShlSvFNC1glWruJIZVoEWTwpLle7qJhXrUsdmHwrWDgc9YHM%2FSoZ%2FRTsMFx8ZNpACcll4M068UzvRwGK1T0tDF0pG%2FJi4nxSowNpwmF60%2FChwB8UNjxR9nW8IZ3r60sFdvKhyi47cr00T2BjPDu1tWcepTeSC1rKasNWso8I6rRJarwBzu7RqUkyKgkP1DJGlX%2Fs2ivXl%2F79y%2F27FJSlrffpde%2BqLQCUSqGGykocGRMUmkHxfBEvEFfvXBd7SVWwQGO8PJZZBSyWhgDNxzHGeLQ%2BuQiaEFJdtoHhiKoMSNK9s9LKuHL4JBfGyJEfRgInVjcLgaOpd5TV9vSMaUhCtAPgnMee2xBvx4IsCAPf%2BmD4FGk2vcqiYBxcpUET7ClFAfzJHyhd1fyMEdd0GBe9mGhcvNJlSZJhlGUjAjkRmAfYT%2BV0STcSMxoNvPlFbLmeNu6NZUVU5HA6wsDQUhGZg6G6niP3KN335BrBghoTxj1fkmn5IjN%2FaJvUoXoy8gqVU6iGEVOBWnkxPceKkOV1B4DWU5tIUm3SzywvpCqP9lTPyWj5fSWlsz302hvdIpMz0y5%2BWhjfMS3fzlo3f%2FzbuJP9I%2FDvng2wc%2BVRigrJaeEwp9MDaxXcAGd3OqilDAYHRWrPjooWD2xiaVeTFiaC8b1EL007CJ6zzeRVBp33SG2MOA4sDrREMJirTwcYikNQax6Y0Xl0bhVSMUfW%2BYIiBnnMbKmZAl4KmODyxyVSWgKg5deEFibhkFFTYoOu5I71nu5l7PlzMW%2BFqxCBFKAKXvSLHVK%2FiMjdgnKQiXNvCT34u6e%2FAfVXf8S2%2BTTmkkJigijbpHn97K75CogvSKIg2TcqZSF01zPjKwcTPuShB5mCF3ew0gDs5mfUTjCdf114wdxPrBXGVjmIiPCyMNfepH0as9XHcgrME2jbphUtpHuuIl2l3E5nr5wFmfYcJvnTFubFvDaDbKeEHy1EQfkSEmZjXJWxjW77BY2oDN8LmRY3cJLr5ucTlrWD3lbx5ZFlEkQdUj5HGn6qhe657vG4DUw8yjcXN4EM%2FMdtMM28Xyba8iVAHiF49Tlj7PUptUmvdmtIs1SWTqVyke5nYbjpFRRhGI3T5Rt5dj6opDiyHpc%2FXNk6CC6abKZknan7iLNp2He2F0TNfBKtcvcXG4hBFAg6Fx%2FBN3zAYC6bYQrwNydpQ3ZrLteHmy3Kk0tDdS7FCCHDNaS3cqX2KM2ZGa9ckzNyjFuxXGrPkapnUXj30ZbcajMH2f5RCpXo63G%2B7TP%2BMT61S5icIdSaRVgHb6IEUvEJNA%2FnRE9yqlLgCd7upEhzbfHAA7%2FzGAH6ebhiEP9LRCHInQQcSjSues9uZTea174DMsKn1GbuEfpkC9GOo4BRmfOAKrQJgOorZgcfAYYHccAUjno2wkO4E%2FCtlfa15rulV9nnxP4QZGFrllWgyvttJWHo4d4aOv5oIf0OvtQ6SB6UM%2FQah4IgpKynIf7BAg3WLEtqTIqK1VqAhblrZpQTmi2DYEOkFavrIyJvRImcHsyPQisfg1LaUh19Bs0z%2BQS2TRbryQsiIW0cVFjcdZBO37umn24nIqT63zkVNrK6aSckjuEcusEuXGRk4gorFL%2BjMsaNq24%2BtLxzepYiXPU%2Fnhodl5Ara67c9xFfVjy5XpV4KSkCpROVYGVeJtVYVLIgqIwVIteqG2x010Yh%2FscXeRYpk51XH%2BB3UdSZJgu5JIFZgz2PYW%2Bx2Z0L%2BnG4do27vI9X20bLjR0Stuq569tO%2BpRUIWy2L9tj0KEyw1iMdF4u9KChkw5zTU9ivG3pg%2FBeejZCYP2wg%2B3toYRAP2wWwcLnoS373wFjzrsoOCRzz7krNxiRl2wqvTOoFOR%2FWnbwSZtUvm0zXv5eqMVOp666%2F%2B0pad26Hhmy4ilaanWQ8vyGl9bS3NkXB2g6G3QP6DTtTV0EffCfMCBw880IGfPAnoh%2F%2BfrDQypTQ93%2BBAYHD0atc8%2FoaMhMMD6fLj58Xts%2FlNaRgEFgYSd3isT2sdd3C0zN5c%2FkgFEwT6ZlPu961vDKuD29M4ZRc1ye207Z7h5C84e3zaZfHFcVnV2Kztz2OyjxFft2Rnv0AIRUujgCfwIq22onLJvX64FyfumX388fLqWTDIlninUWCY6kc71Fz4VII8S5G4ken8TdL%2Fp3Ia09SbWe4n1VJga%2BiPsVgkS9XM9I51Jwwi7MAGY4cB%2FHK3b7stAeVQWxI4lNUwipyFnF6Y4mWR1SX1nbI2zSRIyA1dvBsNI1L3dDIb8s1lbjck77mzWw%2FR8w2ezimLZrQDdwgJRu1uxZcJjbArTW7ja1tBANXbRlqHZD3u7zBYfXk3HSSbY%2FV2MlVTSXM5R81xTJX3qdHUZKyadt8IhURRgwC5ybuASY3z7Bm1tWWgw5cqN8Hmxuh371tPqbn57cz%2F7%2BXrTz%2FciZdjktKNgvyBiZcTZMOcM2nkuqVkGq8yW3lS2KaBwqiiT9Co3yRUPFichRwVcIArpbJNSFiUrBYivci7IZvlOHpZcCjHvd93WMXY83ywPLSt1jd0pjoxhWgPEzukJh3NXSAeWZ4hqa%2BBTe%2B7BP7GDvnfUaV3SN2DS1sFdolRyaiqHJ%2BUvx15Nmq%2BF%2FP12rVfusOSn5Ovs6XLsJKhZ4J8qmI9v9SS29zPFzqJhvbM%2B7CyrY8YldUwV%2BUW5smzUohFrBu6XGU4Zs51cW3kDJmqGPSU5q9D5EGhYE3vmZwXdnUXtk%2FHU47EGu8UUStCNRw%2BgYtzGjqB6QyamNOYksG7Uxsx6yq6wH0Q7a%2BAkD5bJDNh0gdhlLPyJ0gk5XtraeUMkjMKS9pJwcjoJuYEZZ7gPutdEYAb%2F9I1et9ZizuBQzKlJjLsF5HnyqTAXfIytwgCybsGDaa9Dx2LC2A2iGITcYzHzqoWDmTnSu4MHYnZv3ImY9%2FYPe7ZW7qjnjHFByMguHoWLitIfiJ0XCm0LVJXHwleCSOV4QEtw0hv6tSFKGp7pG8%2FHa86UPeloz3zBmhtU3IUgmOQipSqWXOQRBflgqV4mfpg7ihIHVNflVyzSj2%2FYr8gfllaPgTrtsLzjwVLZbAvhCRGto6UIibCjFuiyyxc4HKL8xhCHbiLXvEcqW5eB6O3FjiphhaFHBLpQ126PtemBp1WzEd7APesWXQb0wo0fEnfrRz5Bz27nhyIpqbN%2FeOdINLn3gy8jWt16LgwOMsXITTqnVNXpNo4yzzixckWiqflYucJml9LbG9d6mcL%2BFujgvumz44%2FgLkxlddWfHDj2B8y3iZqab6o8HGQPQhc5IcPyqLYtm2fv52h%2Fm%2Bd0e3G97n%2F9cb9Rrq7%2F%2B3A7%2FLl9Lu8SqWnndWml%2FkDk1RpTN0Q8IJRnuUTvsHMZfXi1wXSR%2Fq6pRfsz8%2BlxdkpaFuWEyJDGcqsqmju0Wanc0dj2A%2BR6dSqQb3PJEylBWFlJWV2BgMkcJr3%2FQ6Nyp1IfYcMVHEnV6ajgYNvrz3hS%2FU4GCP9O23QzIo4zy8qHDo%2BzhkmzB9xJ3efy5JkQ3WTxe9pG%2BPCumaklzqxnOzMv%2BK%2B07pnPtrxg%2FpZq7VlP4kkqBWIHJnE29Pt9ElcyiYXyc7SRyfhWFedkOEzMuUbzWxTka%2B30nIOcqZ2caHezq%2FJT613v5Ogdvpet2VkQOtbbMpFHx%2Bz%2FjuVMLe%2BwLudnaz%2BTeat58lSxTXZoLnn9uTDDqYn26KsHp7UPV%2B%2FLprVP1VeUZlKKs4x4n2rKAgjUpqXJwz8%2BpGJi208J%2BOnwlIDnuTCcTgmohmcCdSkxsHIGuBJ5GwskwGxKE0xfxHI8dRFuxtsnhJuLTjbb4v%2Fn%2FuwsONeHPL4yiXIw5xvWhKnmOhb2eRO%2FfddObqvvQGlQYUfl3sP9PRWEia7kgPBu9XAaiuJLdq48yJX9nehEkx26AeZy5eI19oJ0b42P%2F17G%2F%2B7cIz%2FVrMyvcbanlt3G%2Bpa3hVW6%2FDBkh7ck7EdFzipAsb7M2vn7wrqn7oKzJzup467MBc12CZkJQ7hJQaTne0Wtq6Mt19kjMHZna7QkTd%2FUvFZlnndUrArYEjPBj1tjBKuv%2FkdMGajxfw%3D%3D">here</a>.</p>
<h2 id="system-requirements">System Requirements</h2>
<p>GLOE-Pipe is designed to run in a high-performance cluster (HPC) environment with a Linux distribution (<em>e.g.</em> Debian 9), Bpipe (version 0.9.9.3) as the domain specific language (DSL), and Lmod (version 6.6) as the module system.</p>
<h2 id="prerequisites">Prerequisites</h2>
<h3 id="programs-required">Programs required</h3>
<ul>
<li>Trimmomatic</li>
<li>FastQC</li>
<li>Bowtie 2</li>
<li>Samtools</li>
<li>BED tools</li>
<li>UCSC utilities</li>
<li>MACS2</li>
<li>Deeptools</li>
<li>R</li>
<li>ChIPseeker</li>
<li>rtracklayer</li>
<li>regioneR</li>
<li>Cairo</li>
<li>openxlsx</li>
</ul>
<h3 id="required-files">Required files</h3>
<ul>
<li><code>targets.txt</code> (sample names)</li>
<li><code>raw reads</code> (<code>*.fastq.gz</code>)</li>
</ul>
<h2 id="preparations-to-run">Preparations to run</h2>
<h3 id="how-to-get-gloe-pipe-into-your-project">How to get GLOE-Pipe into your project</h3>
<p>This can be done cloning the most recent development version of GLOE-Pipe from this Git repository</p>
<pre><code>git clone https://gitlab.com/GPetrosino/GLOE-Pipe.git &lt;project_dir&gt;/GLOEPipe
cd &lt;project_dir&gt;
ln -s GLOEPipe/pipelines/GLOEseq/* . 
ln -s GLOEPipe/modules/GLOEseq/essential.vars.groovy .</code></pre>
<h3 id="customise-gloe-pipe-to-your-needs">Customise GLOE-Pipe to your needs</h3>
<p>Adjust the information found in the following files:</p>
<ul>
<li><code>gloeseq.pipeline.groovy</code> describes the pipeline steps and the location of the respective modules</li>
<li><code>essential.vars.groovy</code> specifies the main project variables like project dir and reference genome</li>
<li><code>targets.txt* contains</code> the filenames and sample comparisons</li>
<li><code>tool.location.groovy</code> and <code>bpipe.config</code> specify the paths and resource allocation for the tools</li>
</ul>
<h2 id="run-gloe-pipe">Run GLOE-Pipe</h2>
<p>Copy the input FastQ files into <code>&lt;project_dir&gt;/rawdata folder</code>.</p>
<p>Using GNU <code>screen</code> (for persistence) load the bpipe module customised for the Slurm job manager, <em>e.g.</em></p>
<pre><code>screen
module load bpipe/0.9.9.3.slurm</code></pre>
<p>Start running GLOE-Pipe (NB: indirect mode as default)</p>
<pre><code>bpipe run gloeseq.pipeline.groovy rawdata/*.fastq.gz</code></pre>
<h2 id="notes">Notes</h2>
<ul>
<li><p>To use THE direct mode, the main pipeline needs to be changed in the <code>gloeseq.pipeline.groovy</code> file.</p></li>
<li>The <code>REs</code> folder contains bed files including break sites of restriction endonucleases used in the GLOE-seq paper.</li>
<li><p>The break sites overlapping transposons, telomeres and mtDNA in yeast genome are excluded.</p></li>
</ul>
